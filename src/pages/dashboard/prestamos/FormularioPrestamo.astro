---
import Button1 from "../../../components/atomos/Button1.astro";
import FormCont from "../../../components/atomos/FormCont.astro";
import ContenedorBoton from "../../../components/moleculas/ContenedorBoton.astro";
import ContenedorInputForm from "../../../components/moleculas/ContenedorInputForm.astro";
import ContenedorInputSelected from "../../../components/moleculas/ContenedorInputSelected.astro";

const opciones = [
  {
    name: "tasa1",
    id: 1,
  },
  {
    name: "tasa2",
    id: 2,
  },
  {
    name: "tasa3",
    id: 3,
  },
];
---

<FormCont action="POST">
  <ContenedorInputForm
    label="Cliente"
    type="text"
    name="selectCliente"
    styleInput="font-semibold"
  />
  <div class="flex items-center w-full justify-normal">
    <ContenedorInputForm
      label="importe de credito"
      type="number"
      name="importeCredito"
    />
    <ContenedorInputSelected
    label="Modalidad de Pago"
    name="modalidadPago"
    options={opciones}
  />
  </div>
  <div class="flex items-center w-full justify-normal">
    <ContenedorInputSelected
      label="Seleccionar Interes"
      name="tipoInteres"
      options={opciones}
    />
    <ContenedorInputSelected
    label="NÂ° de Cuotas"
    name="nCuotas"
    options={opciones}
  />
  </div>

<ContenedorBoton>
    
    <Button1>Generar Prestamo</Button1>
</ContenedorBoton>
</FormCont>

<script>
    import {busqueda} from '../../../context/store'
  // Nos suscribimos a los cambios en 'busqueda'
     const unsubscribe = busqueda.subscribe(clientSelect => {
      document.getElementById('selectCliente').value=''
      if(clientSelect.clientSelect.nombre){
        // Concatenamos los valores de 'nombre', 'apellido' y 'dni'
    const fullName = clientSelect.clientSelect.nombre + ' ' + clientSelect.clientSelect.apellido + '   Dni:' + clientSelect.clientSelect.dni;
        document.getElementById('selectCliente').value = fullName || '';
      }
    })

</script>